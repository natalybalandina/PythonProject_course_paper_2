# Программа для получения информации о вакансиях с платформы hh.ru в России
## Задание 

Напишите программу, которая будет получать информацию о вакансиях с платформы hh.ru в России, сохранять ее в файл и позволять удобно работать с ней: добавлять, фильтровать, удалять.

## Требования к реализации
Создать абстрактный класс для работы с API сервиса с вакансиями. Реализовать класс, наследующийся от абстрактного класса, для работы с платформой hh.ru. Класс должен уметь подключаться к API и получать вакансии.
Создать класс для работы с вакансиями. В этом классе самостоятельно определить атрибуты, такие как название вакансии, ссылка на вакансию, зарплата, краткое описание или требования и т. п. (всего не менее четырех атрибутов). Класс должен поддерживать методы сравнения вакансий между собой по зарплате и валидировать данные, которыми инициализируются его атрибуты.
Способами валидации данных может быть проверка, указана или нет зарплата. В этом случае выставлять значение зарплаты 0 или «Зарплата не указана» в зависимости от структуры класса.

Определить абстрактный класс, который обязывает реализовать методы для добавления вакансий в файл, получения данных из файла по указанным критериям и удаления информации о вакансиях. Создать класс для сохранения информации о вакансиях в JSON-файл. Дополнительно, по желанию, можно реализовать классы для работы с другими форматами, например с CSV- или Excel-файлом, с TXT-файлом.
Данный класс выступит в роли основы для коннектора, заменяя который (класс-коннектор), можно использовать в качестве хранилища одну из баз данных или удаленное хранилище со своей специфической системой обращений.

В случае если какие-то из методов выглядят не используемыми для работы с файлами, то не стоит их удалять. Они пригодятся для интеграции к БД. Сделайте заглушку в коде.

Создать функцию для взаимодействия с пользователем. Функция должна взаимодействовать с пользователем через консоль. Возможности этой функции должны быть следующими:
ввести поисковый запрос для запроса вакансий из hh.ru;
получить топ N вакансий по зарплате (N запрашивать у пользователя);
получить вакансии с ключевым словом в описании.
Помимо этого функционала, можно придумать дополнительные возможности, которые покажутся удобными.

Объединить все классы и функции в единую программу.
Покрыть описанный функционал тестами.
Требования к реализации в парадигме ООП
Абстрактный класс и классы для работы с API платформ с вакансиями должны быть реализованы в соответствии с принципом наследования.
Класс для работы с вакансиями должен быть реализован в соответствии с принципом инкапсуляции и поддерживать методы сравнения вакансий между собой по зарплате.
Классы и другие сущности в проекте должны удовлетворять минимум первым двум требованиям принципов SOLID.

*Документация для сбора вакансий с hh.ru*
Ссылка на API: https://github.com/hhru/api/.

*Выходные данные*
Информация о вакансиях, полученная с разных платформ, сохраненная в JSON-файл.
Отфильтрованные и отсортированные вакансии, выводимые пользователю через консоль.

## Описание 
Проект запрашивает вакансии с hh.ru и сохраняет их в формате JSON.

Основные классы и их функции:

APIHandler — базовый класс для создания API-классов, таких как HeadHunterApi.
HeadHunterApi — отвечает за запрос вакансий с сайта hh.ru и сохранение их в файл формата JSON.
JSONFileHandler — базовый класс для создания классов сохранения данных, таких как FileHandler.
FileHandler — позволяет сохранять, добавлять и удалять вакансии в/из JSON-файла.
Vacancy — класс для создания объектов вакансий с параметрами:
title link salary description.
Модуль user_interaction содержит функции для взаимодействия с классами и фильтрации вакансий.
Взаимодействие всех классов и функций с пользователем реализовано в модуле main.py. 

Примечания:
1. Для хранения *чуствительных* данных представлен файл .env и  его аналог, который должен содержать примеры того, что содержит файл .env только в *открытом* виде - это файл .env_example .
Но поскольку код не содержит *чувствительных* данных, которые *обязательно* должны быть в .env, файл .env_example дублирует содержание .env.  Такое вынесение конфигурационных параметров (HH_BASE_URL, HH_VACANCIES_PER_PAGE, HH_ONLY_WITH_SALARY) в .env делает мой код более гибким и легким в настройке без изменения самой логики.

Код запускается командой 
```
python main.py
```

*Проверка работоспособности кода протестирована в файле 'test_vacancies.json'. Для этого в файле 'file_handler.py' расскомитить строку*
```
def __init__(self, filename: str = "data/test_vacancies.json") -> None:
```
*и закоммитить*
```
#def __init__(self, filename: str = "data/vacancies.json") -> None:
```
Пример релаизации кода:
```
Меню:
1. Добавить вакансии из HeadHunter
2. Удалить вакансию по ID
3. Фильтровать вакансии по ключевым словам
4. Фильтровать вакансии по зарплате
5. Показать все вакансии
6. Выйти
Выберите действие: 1
Введите поисковый запрос: инженер-конструктор
Вакансия «Инженер-конструктор (СПК ПВХ и АЛ)» успешно добавлена.
Вакансия «R&D инженер-конструктор» успешно добавлена.
Вакансия «Инженер-конструктор (гибрид)» успешно добавлена.
Вакансия «Инженер-конструктор» успешно добавлена.
Вакансия «Инженер-конструктор» успешно добавлена.
Вакансия «Инженер-конструктор» успешно добавлена.
Вакансия «ИНЖЕНЕР- КОНСТРУКТОР, ПРОЕКТИРОВЩИК,ЧЕРТЕЖНИК» успешно добавлена.
Вакансия «Инженер-конструктор» успешно добавлена.
...
Вакансия «Инженер-конструктор» успешно добавлена.   
Вакансия «Инженер-конструктор КЖ» успешно добавлена.

Меню:
1. Добавить вакансии из HeadHunter
2. Удалить вакансию по ID
3. Фильтровать вакансии по ключевым словам
4. Фильтровать вакансии по зарплате
5. Показать все вакансии
6. Выйти
Выберите действие: 4
Введите диапазон зарплат (минимум-максимум): 75000-3
00000
Название: Инженер-конструктор (СПК ПВХ и АЛ)        
Ссылка: https://hh.ru/vacancy/124712409
Зарплата: 120000.0 руб.
Описание: Опыт работы инженером-конструктором СПК не
 менее 3-х лет. Высшее техническое образование. Свободное владение AutoCAD. Знания материалов и их...   
----------------------------------------
Название: R&D инженер-конструктор
Ссылка: https://hh.ru/vacancy/124938845
Зарплата: 200000.0 руб.
Описание: Опыт инженерной разработки или R&D. Знание
 материаловедения, прочностных расчётов, понимание п
роизводственных технологий. Владение SolidWorks / Inventor / Revit / Rhino.
...
Меню:
1. Добавить вакансии из HeadHunter
2. Удалить вакансию по ID
3. Фильтровать вакансии по ключевым словам
4. Фильтровать вакансии по зарплате
5. Показать все вакансии
6. Выйти
Выберите действие: 3
Введите ключевые слова для фильтрации (через пробел): без опыта 
Название: Инженер-конструктор
Ссылка: https://hh.ru/vacancy/124929084
Зарплата: 55000.0 руб.
Описание: Высшее техническое образование (без требов
ания к стажу) или среднее профессиональное образован
ие и стаж работы инженерно-конструкторской или технической сфере от...
----------------------------------------
Название: Инженер-конструктор
Ссылка: https://hh.ru/vacancy/124832668
Зарплата: 150000.0 руб.
Описание: высшего технического образования и хороших
 аналитических способностей. - опыта работы инженеро
м-конструктором на металлообрабатывающем предприятии
. Знание рынка комплектующих изделий для промышленного...
----------------------------------------
...
Меню:
1. Добавить вакансии из HeadHunter
2. Удалить вакансию по ID
3. Фильтровать вакансии по ключевым словам
4. Фильтровать вакансии по зарплате
5. Показать все вакансии
6. Выйти
Выберите действие: 6
Выход из программы.

```

Код проверен линтерами flake8, black, isort.

## Тестирование
Для всех функциональностей написаны тесты.
Тесты запускаются командой 
```
pytest --cov
```

```
=============== test session starts ===============
platform win32 -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0
rootdir: C:\Users\...\PythonProject7
configfile: pyproject.toml
plugins: cov-6.2.1
collected 24 items                                 

tests\test_api_handler.py ...                [ 12%]
tests\test_file_handler.py .......           [ 41%]
tests\test_helpers.py ..                     [ 50%]
tests\test_main.py .....                     [ 70%]
tests\test_utils.py .                        [ 75%]
tests\test_vacancy.py ......                 [100%]

================= tests coverage ================== 
_ coverage: platform win32, python 3.13.3-final-0 _ 

Name                         Stmts   Miss  Cover    
------------------------------------------------    
main.py                         70     21    70%    
src\__init__.py                  0      0   100%    
src\api_handler.py              37      9    76%    
src\file_handler.py             67      7    90%    
src\helpers.py                  18      2    89%    
src\utils.py                     7      2    71%    
src\vacancy.py                  53      4    92%    
tests\__init__.py                0      0   100%    
tests\test_api_handler.py       30      0   100%    
tests\test_file_handler.py      58      0   100%    
tests\test_helpers.py           16      0   100%    
tests\test_main.py              53      1    98%    
tests\test_utils.py             18      0   100%    
tests\test_vacancy.py           40      0   100%    
------------------------------------------------    
TOTAL                          467     46    90%    
=============== 24 passed in 3.07s ================
```
Код покрыт тестами более 70%


Командой 
```
pytest --cov=src --cov-report=html
```

Генерируется отчет о покрытии в HTML-формате и хранится в папке htmlcov. Для наглядной демонстрации папки htmlcov  и coverage исключены из .gitignore


